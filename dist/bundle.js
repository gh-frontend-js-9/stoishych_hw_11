!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function o(e){return!!e.match(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)||(alert("You have entered an invalid email address!"),!1)}function r(e,t,n){let o=e.length;return!(0==o||o>=n||o<t)||(alert("Password should not be empty / length be between "+t+" to "+n),!1)}function a(e,t){return e===t||(alert("Passwords should be equal, rewrite passwords."),!1)}n.r(t);let l=document.getElementById("signup-form");l&&l.addEventListener("submit",(function(e){e.preventDefault();let t=document.getElementById("signup-email").value,n=document.getElementById("signup-name").value,l=document.getElementById("signup-password").value,s=document.getElementById("signup-rep-pass").value;if(o(t)&&r(l,8,40)){if(!function(e){return 0!=e.length||(alert("Name should not be empty"),!1)}(n))return!1;a(l,s)&&async function(e,t,n){let o={email:e,password:t,name:n};console.log(o);let r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)};200===(await fetch("http://localhost:3000/api/users/",r)).status?alert("You created account"):alert("This account already exists")}(t,l,n)}}));let s=document.getElementById("login-form");s&&s.addEventListener("submit",(function(e){e.preventDefault();let t=document.getElementById("login-email").value,n=document.getElementById("login-password").value;if(!o(t))return!1;r(n,8,40)&&async function(e,t){let n={email:e,password:t};console.log(n);let o={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)},r=await fetch("http://localhost:3000/api/users/login",o);console.log(r),200===r.status?(localStorage.setItem("token",r.headers.get("x-auth-token")),alert("You successfully logined")):alert("Login or password is incorrect, try again")}(t,n)}));let u=document.getElementById("reset-form");u&&u.addEventListener("submit",(function(e){e.preventDefault();let t=document.getElementById("reset-email").value,n=document.getElementById("reset-password").value,l=document.getElementById("reset-rep-pass").value;if(!o(t))return!1;r(n,8,40)&&a(n,l)&&async function(e,t,n){let o={password:e,confirmationPassword:t,email:n};console.log(o);let r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)},a=await fetch("http://localhost:3000/api/users/reset_password",r);console.log(a)}(n,l,t)})),window.onload=async function(){localStorage.token&&async function(){let e=await fetch("http://localhost:3000/api/users/current",{headers:{"x-access-token":localStorage.token}});200===e.status&&alert("You are signed in now"),console.log(e)}()}}]);